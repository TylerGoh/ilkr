(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{234:function(e,t,a){e.exports=a(498)},239:function(e,t,a){},240:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},498:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=(a(239),a(14)),i=a(39),s=a(48);a(240);var u=function(){var e=r.a.useRef(null);return Object(n.useEffect)(function(){e.current.getContext("2d").fillRect(0,0,150,100)}),r.a.createElement("div",null,r.a.createElement("canvas",{ref:e,width:300,height:300}))};var m=function(){return r.a.createElement("h1",null,"ITS JUST A PRANK BRO")},p=a(503),d=a(100),f=a.n(d);var g=function(e){return r.a.createElement("div",{className:"navigation"},r.a.createElement(p.b,{mode:"horizontal",style:{padding:"7px",width:"100%",textAlign:"right",fontSize:"15px"},theme:"dark"},r.a.createElement(f.a,{title:"AI"},r.a.createElement(p.b.Item,{key:"face",style:{fontSize:"15px"}},r.a.createElement(i.b,{to:"/face"},"Face Recognition"))),r.a.createElement(p.b.Item,{key:"main"},r.a.createElement(i.b,{to:"/"},"App")),r.a.createElement(p.b.Item,{key:"about"},r.a.createElement(i.b,{to:"/About"},"About")),e.userSignedIn?r.a.createElement(f.a,{title:r.a.createElement("span",null,e.currentUser)},r.a.createElement(p.b.Item,{key:"login",style:{fontSize:"15px"},onClick:function(){e.setCurrentUser(null),e.setUserSignedIn(!1),localStorage.removeItem("username"),localStorage.removeItem("password")}},r.a.createElement(i.b,{to:"/login"},"Logout"))):r.a.createElement(p.b.Item,{key:"login",style:{fontSize:"15px"}},r.a.createElement(i.b,{to:"/Login"},"Login"))))},b=a(502),E=a(68),h=a(36),y=a(107),v=a(501),j=a(504),O=a(43),S=a.n(O);a(329);var w=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),g=f[0],O=f[1],w=Object(n.useState)(""),U=Object(o.a)(w,2),I=U[0],k=U[1],x=Object(n.useState)(""),C=Object(o.a)(x,2),R=C[0],T=C[1],L=Object(n.useState)(""),z=Object(o.a)(L,2),A=z[0],P=z[1],B=Object(n.useState)(""),F=Object(o.a)(B,2),N=F[0],D=F[1];return!0===e.userSignedIn?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{style:{backgroundColor:"#f0f2f5",height:"100%",paddingTop:130}},r.a.createElement("div",null,r.a.createElement(b.a,{style:{width:500,marginLeft:"auto",marginRight:"auto",marginBottom:130,borderRadius:10,textAlign:"center"}},r.a.createElement(E.a,null,r.a.createElement("h1",{style:{margin:"15px 0"}},"ILKR")),r.a.createElement(E.a,null,r.a.createElement(h.a,{span:8,offset:4},r.a.createElement(y.a,{onClick:function(){l(!0),W()},type:c?"primary":"default",style:{width:"100%",borderBottomRightRadius:0,borderTopRightRadius:0}},"Log In")),r.a.createElement(h.a,{span:8},r.a.createElement(y.a,{onClick:function(){l(!1),W()},type:c?"default":"primary",style:{width:"100%",borderTopLeftRadius:0,borderBottomLeftRadius:0}},"Sign Up")),r.a.createElement(E.a,{style:{margin:"25px 0"}})),r.a.createElement(v.a,{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}},r.a.createElement(v.a.Item,{label:"Username",hasFeedback:!0,validateStatus:I,help:R},r.a.createElement(j.a,{name:"username",autoComplete:"off",style:{width:"100%"},size:"large",onChange:function(e){return function(e){p(e.target.value),c||(e.target.value.length<8?(k("error"),T("Username must be at least 8 characters")):(k(""),T("")))}(e)},onPressEnter:function(){return J()},placeholder:"Username"})),r.a.createElement(v.a.Item,{label:"Password",hasFeedback:!0,validateStatus:A,help:N},r.a.createElement(j.a,{name:"password",style:{width:"100%"},type:"password",size:"large",onChange:function(e){return function(e){O(e.target.value),e.target.value.length<8&&!c?(P("error"),D("Password must be at least 8 characters")):(P(""),D(""))}(e)},onPressEnter:function(){return J()},placeholder:"Password"})),r.a.createElement(E.a,{style:{margin:"25px 0"}}),r.a.createElement(y.a,{onClick:function(){return J()},size:"large",type:"primary"},"Enter")))));function W(){k(""),P(""),T(""),D("")}function J(){var t="login";c||(t="register"),S.a.post("http://localhost/".concat(t),{name:m,password:g}).then(function(t){console.log(t.data),"success"===t.data&&(e.setUserSignedIn(!0),e.setCurrentUser(m),localStorage.setItem("username",m),localStorage.setItem("password",g)),"failure"===t.data&&(k("error"),T("Username is taken")),"wrongPass"===t.data&&(P("error"),D("Invalid password"),k(""),T("")),"wrongUser"===t.data&&(k("error"),T("Username does not exist"),P(""),D(""))}).catch(function(e){return console.log(e)})}},U=a(232),I=a(505),k=(a(495),a(496),a(506)),x=a(500);var C=function(e){var t=e.images,a=Object.keys(t).map(function(a){return r.a.createElement(k.a,{style:{width:"18rem"},key:a},r.a.createElement(k.a.Header,null,r.a.createElement("h5",null,a)),r.a.createElement("div",{className:"topContainer"},t[a].map(function(t){return r.a.createElement("div",{key:t},r.a.createElement(k.a.Img,{variant:"top",src:"/static/"+e.currentUser+"/face/images/"+a+"/"+t}))})))});return r.a.createElement("div",{style:{float:"left"}},r.a.createElement(x.a,null,a))},R={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},T={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},L={display:"flex",minWidth:0,overflow:"hidden"},z={display:"block",width:"auto",height:"100%"};var A=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)({}),u=Object(o.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),g=f[0],b=f[1],h=Object(n.useState)(""),O=Object(o.a)(h,2),w=O[0],k=O[1],x=Object(n.useState)(""),A=Object(o.a)(x,2),P=A[0],B=A[1],F=Object(n.useState)(!0),N=Object(o.a)(F,2),D=N[0],W=N[1],J=Object(n.useState)(!0),K=Object(o.a)(J,2),q=K[0],G=K[1],H=Object(n.useState)(!1),$=Object(o.a)(H,2),M=$[0],Q=$[1],V=Object(n.useState)(!1),X=Object(o.a)(V,2),Y=X[0],Z=X[1],_=Object(n.useState)(!1),ee=Object(o.a)(_,2),te=ee[0],ae=ee[1],ne=Object(U.a)({accept:"image/*",onDrop:function(e){l(e.map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),console.log(c)}}),re=ne.getRootProps,ce=ne.getInputProps,le=c.map(function(e){return r.a.createElement("div",{style:T,key:e.name},r.a.createElement("div",{style:L},r.a.createElement("img",{src:e.preview,style:z})))});function oe(){if(!0===e.userSignedIn){var t=e.currentUser.replace(/\s+/g,"%20");S.a.post("http://127.0.0.1:5000/faceGetImages/"+t).then(function(e){p(e.data),Object.keys(e.data).length>1&&W(!1),G(!1)})}}return Object(n.useEffect)(function(){!0===e.userSignedIn&&oe()},[]),Object(n.useEffect)(function(){return function(){c.forEach(function(e){return URL.revokeObjectURL(e.preview)})}},[c]),!1===e.userSignedIn?r.a.createElement(s.a,{to:"/login"}):!0===Y?r.a.createElement(s.a,{to:"/train"}):r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement(E.a,null,r.a.createElement(v.a,null,r.a.createElement(v.a.Item,{hasFeedback:!0,validateStatus:w,help:P},r.a.createElement(j.a,{name:"name",autoComplete:"off",style:{width:"100%"},size:"large",onChange:function(e){b(e.target.value),B(""),k("")},placeholder:"Enter the name of the person"}))),r.a.createElement("div",re({className:"dropzone"}),r.a.createElement("input",ce()),r.a.createElement("h3",null,"Upload files of the person")),r.a.createElement("aside",{style:R},le),r.a.createElement(y.a,{type:"primary",htmlType:"submit",onClick:function(){if(""==g)return B("Name required"),void k("error");if(c.length>0){var t=new FormData;for(var a in t.append("user",e.currentUser),t.append("name",g),c)t.append("file",c[a]);S.a.post("http://127.0.0.1:5000/faceUpload",t).then(function(e){l([]),I.a.success("Sucessful upload"),oe()}).catch(function(e){console.log(e),I.a.error("Upload failed")})}},disabled:M},"Upload")),r.a.createElement(y.a,{type:"primary",loading:te,htmlType:"submit",onClick:function(){var t=e.currentUser.replace(/\s+/g,"%20");G(!0),ae(!0),Q(!0),S.a.post("http://127.0.0.1:5000/faceTrain/"+t).then(function(e){Z(!0)}).catch(function(){ae(!1),G(!1),Q(!1),I.a.error("Unable to train")})},style:{marginRight:"30px",marginTop:"30px",marginBottom:"30px"},disabled:D},"Train"),r.a.createElement(y.a,{type:"primary",htmlType:"submit",onClick:function(){var t=e.currentUser.replace(/\s+/g,"%20");S.a.post("http://127.0.0.1:5000/faceClearImages/"+t).then(function(e){I.a.success("Images cleared"),p({}),G(!0),W(!0)}).catch(function(){I.a.error("Unable to clear")})},disabled:q},"Clear"),r.a.createElement(E.a,null,r.a.createElement(C,{images:m,currentUser:e.currentUser})))};var P=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],p=u[1];return r.a.createElement("div",null,r.a.createElement("img",{src:"/static/"+e.currentUser+"/face/test/result.png"}),r.a.createElement("input",{ref:t,type:"file",id:"single",accept:"image/png, image/jpeg",onChange:function(t){return function(t){console.log(t.target.files[0]);var a=new FormData;a.append("user",e.currentUser),a.append("file",t.target.files[0]),S.a.post("http://127.0.0.1:5000/faceTest",a).then(function(e){p(e.data),i(!0)}).catch(function(e){I.a.error("Upload failed")})}(t)},style:{display:"none"}}),r.a.createElement("br",null),r.a.createElement(y.a,{type:"primary",htmlType:"submit",onClick:function(){t.current.click()}},"Upload"),r.a.createElement("br",null),l&&r.a.createElement("img",{src:"/static/"+e.currentUser+"/face/test/result/"+m+".jpg"}))};var B=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),p=Object(o.a)(l,2),d=p[0],f=p[1];return!1===a&&localStorage.getItem("username")&&(c(!0),f(localStorage.getItem("username"))),r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(g,{currentUser:d,userSignedIn:a,setUserSignedIn:c,setCurrentUser:f}),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:u}),r.a.createElement(s.b,{path:"/about",component:m}),r.a.createElement(s.b,{path:"/face",render:function(e){return r.a.createElement(A,Object.assign({},e,{currentUser:d,userSignedIn:a}))}}),r.a.createElement(s.b,{path:"/train",render:function(e){return r.a.createElement(P,Object.assign({},e,{currentUser:d,userSignedIn:a}))}}),r.a.createElement(s.b,{path:"/login",render:function(e){return r.a.createElement(w,Object.assign({},e,{setCurrentUser:f,setUserSignedIn:c,userSignedIn:a}))}}))))};a(497),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[234,1,2]]]);
//# sourceMappingURL=main.661549f5.chunk.js.map