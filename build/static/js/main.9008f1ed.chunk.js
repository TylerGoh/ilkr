(this.webpackJsonpilkr=this.webpackJsonpilkr||[]).push([[0],{228:function(e,t,a){e.exports=a.p+"static/media/stay.d81aeb0d.mp3"},251:function(e,t,a){e.exports=a(534)},256:function(e,t,a){},259:function(e,t,a){},283:function(e,t,a){},531:function(e,t,a){},532:function(e,t,a){},534:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=(a(256),a(11)),i=a(33),s=a(45),u=a(244),m=(a(259),a(40)),p=a.n(m),d=a(217),g=a.n(d);var f=function(e){var t=g()();return t.history,t.location,t.match,0==e.userSignedIn?r.a.createElement(s.Redirect,{to:"/login"}):r.a.createElement("div",null)},b=(a(281),a(283),a(245)),h=(a(284),a(228)),E=a.n(h),y=a(229),j=a.n(y);a(287);var O=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(0),p=Object(o.a)(m,2),d=(p[0],p[1]);return Object(n.useEffect)((function(){})),r.a.createElement("div",{className:"div"},r.a.createElement(b.a,{style:{position:"absolute",width:"30%",bottom:"0px",left:"0px"},src:E.a,onPlay:function(e){c("Now playing - Stay With Me - Miki Matsubara"),u(!0)},onPause:function(e){u(!1)},onClickNext:function(e){return d(1)}}),s&&r.a.createElement("h1",null,a),s&&r.a.createElement(j.a,null))},v=a(539),S=a(151),k=a.n(S);var U=function(e){return r.a.createElement("div",{className:"navigation"},r.a.createElement(v.a,{mode:"horizontal",style:{padding:"7px",width:"100%",textAlign:"right",fontSize:"15px"},theme:"dark"},r.a.createElement(k.a,{title:"AI"},r.a.createElement(v.a.Item,{key:"face",style:{fontSize:"15px"}},r.a.createElement(i.b,{to:"/face"},"Face Recognition"))),r.a.createElement(v.a.Item,{key:"main"},r.a.createElement(i.b,{to:"/"},"App")),r.a.createElement(v.a.Item,{key:"about"},r.a.createElement(i.b,{to:"/About"},"About")),e.userSignedIn?r.a.createElement(k.a,{title:r.a.createElement("span",null,e.currentUser)},r.a.createElement(v.a.Item,{key:"login",style:{fontSize:"15px"},onClick:function(){e.setCurrentUser(null),e.setUserSignedIn(!1),localStorage.removeItem("username"),localStorage.removeItem("password")}},r.a.createElement(i.b,{to:"/login"},"Logout"))):r.a.createElement(v.a.Item,{key:"login",style:{fontSize:"15px"}},r.a.createElement(i.b,{to:"/Login"},"Login"))))},w=a(538),I=a(69),x=a(37),R=a(152),C=a(540),L=a(541),T=a(13);a(339);var z=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],d=u[1],g=Object(n.useState)(""),f=Object(o.a)(g,2),b=f[0],h=f[1],E=Object(n.useState)(""),y=Object(o.a)(E,2),j=y[0],O=y[1],v=Object(n.useState)(""),S=Object(o.a)(v,2),k=S[0],U=S[1],z=Object(n.useState)(""),P=Object(o.a)(z,2),N=P[0],A=P[1],B=Object(n.useState)(""),F=Object(o.a)(B,2),W=F[0],D=F[1];return!0===e.userSignedIn?r.a.createElement(s.Redirect,{to:"/"}):r.a.createElement("div",{style:{backgroundColor:"#f0f2f5",height:"100%",paddingTop:130}},r.a.createElement("div",null,r.a.createElement(w.a,{style:{width:500,marginLeft:"auto",marginRight:"auto",marginBottom:130,borderRadius:10,textAlign:"center"}},r.a.createElement(I.a,null,r.a.createElement("h1",{style:{margin:"15px 0"}},"ILKR")),r.a.createElement(I.a,null,r.a.createElement(x.a,{span:8,offset:4},r.a.createElement(R.a,{onClick:function(){l(!0),M()},type:c?"primary":"default",style:{width:"100%",borderBottomRightRadius:0,borderTopRightRadius:0}},"Log In")),r.a.createElement(x.a,{span:8},r.a.createElement(R.a,{onClick:function(){l(!1),M()},type:c?"default":"primary",style:{width:"100%",borderTopLeftRadius:0,borderBottomLeftRadius:0}},"Sign Up")),r.a.createElement(I.a,{style:{margin:"25px 0"}})),r.a.createElement(C.a,{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}},r.a.createElement(C.a.Item,{style:{marginLeft:"25%"},hasFeedback:!0,validateStatus:j,help:k},r.a.createElement(L.a,{name:"username",prefix:r.a.createElement(T.a,{type:"user"}),autoComplete:"off",style:{width:"132.5%"},size:"large",onChange:function(e){return function(e){d(e.target.value),c||(e.target.value.length<8?(O("error"),U("Username must be at least 8 characters")):(O(""),U("")))}(e)},onPressEnter:function(){return J()},placeholder:"Username"})),r.a.createElement(C.a.Item,{style:{marginLeft:"25%"},hasFeedback:!0,validateStatus:N,help:W},r.a.createElement(L.a,{name:"password",prefix:r.a.createElement(T.a,{type:"lock"}),style:{width:"132.5%"},type:"password",size:"large",onChange:function(e){return function(e){h(e.target.value),e.target.value.length<8&&!c?(A("error"),D("Password must be at least 8 characters")):(A(""),D(""))}(e)},onPressEnter:function(){return J()},placeholder:"Password"})),r.a.createElement(I.a,{style:{margin:"25px 0"}}),r.a.createElement(R.a,{onClick:function(){return J()},size:"large",type:"primary"},"Enter"))),r.a.createElement(I.a,null)));function M(){O(""),A(""),U(""),D("")}function J(){var t="login";c||(t="register"),p.a.post("https://tylergoh.tk/".concat(t),{name:m,password:b}).then((function(t){console.log(t.data),"success"===t.data&&(e.setUserSignedIn(!0),e.setCurrentUser(m),localStorage.setItem("username",m),localStorage.setItem("password",b)),"failure"===t.data&&(O("error"),U("Username is taken")),"wrongPass"===t.data&&(A("error"),D("Invalid password"),O(""),U("")),"wrongUser"===t.data&&(O("error"),U("Username does not exist"),A(""),D(""))})).catch((function(e){return console.log(e)}))}},P=a(246),N=a(543),A=(a(531),a(532),a(542)),B=a(537);var F=function(e){var t=e.images,a=Object.keys(t).map((function(a){return r.a.createElement(A.a,{style:{width:"18rem"},key:a},r.a.createElement(A.a.Header,null,r.a.createElement("h5",null,a)),r.a.createElement("div",{className:"topContainer"},t[a].map((function(t){return r.a.createElement("div",{key:t},r.a.createElement(A.a.Img,{variant:"top",src:"https://tylergoh.tk/static/"+e.currentUser+"/face/images/"+a+"/"+t}))}))))}));return r.a.createElement("div",{style:{float:"left"}},r.a.createElement(B.a,null,a))},W={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},D={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},M={display:"flex",minWidth:0,overflow:"hidden"},J={display:"block",width:"auto",height:"100%"};var q=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)({}),u=Object(o.a)(i,2),m=u[0],d=u[1],g=Object(n.useState)(""),f=Object(o.a)(g,2),b=f[0],h=f[1],E=Object(n.useState)(""),y=Object(o.a)(E,2),j=y[0],O=y[1],v=Object(n.useState)(""),S=Object(o.a)(v,2),k=S[0],U=S[1],w=Object(n.useState)(!0),x=Object(o.a)(w,2),T=x[0],z=x[1],A=Object(n.useState)(!0),B=Object(o.a)(A,2),q=B[0],G=B[1],H=Object(n.useState)(!1),K=Object(o.a)(H,2),$=K[0],_=K[1],Q=Object(n.useState)(!1),V=Object(o.a)(Q,2),X=V[0],Y=V[1],Z=Object(n.useState)(!1),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(P.a)({accept:"image/*",onDrop:function(e){l(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}))),console.log(c)}}),re=ne.getRootProps,ce=ne.getInputProps,le=c.map((function(e){return r.a.createElement("div",{style:D,key:e.name},r.a.createElement("div",{style:M},r.a.createElement("img",{src:e.preview,style:J})))}));function oe(){if(!0===e.userSignedIn){var t=e.currentUser.replace(/\s+/g,"%20");p.a.post("https://tylergoh.tk:4000/faceGetImages/"+t).then((function(e){d(e.data),Object.keys(e.data).length>1&&z(!1),G(!1)}))}}return Object(n.useEffect)((function(){!0===e.userSignedIn&&oe()}),[]),Object(n.useEffect)((function(){return function(){c.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[c]),!1===e.userSignedIn?r.a.createElement(s.Redirect,{to:"/login"}):!0===X?r.a.createElement(s.Redirect,{to:"/train"}):r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement(I.a,null,r.a.createElement(C.a,null,r.a.createElement(C.a.Item,{hasFeedback:!0,validateStatus:j,help:k},r.a.createElement(L.a,{name:"name",autoComplete:"off",style:{width:"100%"},size:"large",onChange:function(e){h(e.target.value),U(""),O("")},placeholder:"Enter the name of the person"}))),r.a.createElement("div",re({className:"dropzone"}),r.a.createElement("input",ce()),r.a.createElement("h3",null,"Upload files of the person")),r.a.createElement("aside",{style:W},le),r.a.createElement(R.a,{type:"primary",htmlType:"submit",onClick:function(){if(""==b)return U("Name required"),void O("error");if(c.length>0){var t=new FormData;for(var a in t.append("user",e.currentUser),t.append("name",b),c)t.append("file",c[a]);p.a.post("https://tylergoh.tk:4000/faceUpload",t).then((function(e){l([]),N.a.success("Sucessful upload"),oe()})).catch((function(e){console.log(e),N.a.error("Upload failed")}))}},disabled:$},"Upload")),r.a.createElement(R.a,{type:"primary",loading:te,htmlType:"submit",onClick:function(){var t=e.currentUser.replace(/\s+/g,"%20");G(!0),ae(!0),_(!0),p.a.post("https://tylergoh.tk:4000/faceTrain/"+t).then((function(e){Y(!0)})).catch((function(){ae(!1),G(!1),_(!1),N.a.error("Unable to train")}))},style:{marginRight:"30px",marginTop:"30px",marginBottom:"30px"},disabled:T},"Train"),r.a.createElement(R.a,{type:"primary",htmlType:"submit",onClick:function(){var t=e.currentUser.replace(/\s+/g,"%20");p.a.post("https://tylergoh.tk:4000/faceClearImages/"+t).then((function(e){N.a.success("Images cleared"),d({}),G(!0),z(!0)})).catch((function(){N.a.error("Unable to clear")}))},disabled:q},"Clear"),r.a.createElement(I.a,null,r.a.createElement(F,{images:m,currentUser:e.currentUser})))};var G=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),m=u[0],d=u[1],g=Object(n.useState)(""),f=Object(o.a)(g,2),b=f[0],h=f[1];return r.a.createElement("div",null,r.a.createElement("img",{src:"https://akisora.tk/static/"+e.currentUser+"/face/test/result.png"}),r.a.createElement("input",{ref:t,type:"file",id:"single",accept:"image/png, image/jpeg",onChange:function(t){return function(t){d(!0),i(!1);var a=new FormData;a.append("user",e.currentUser),a.append("file",t.target.files[0]),p.a.post("https://akisora.tk:4000/faceTest",a).then((function(e){h(e.data),i(!0),d(!1)})).catch((function(e){N.a.error("Upload failed"),d(!1)}))}(t)},style:{display:"none"}}),r.a.createElement("br",null),r.a.createElement(R.a,{loading:m,type:"primary",htmlType:"submit",onClick:function(){t.current.click()}},"Upload"),r.a.createElement("br",null),l&&r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement("a",{href:"https://akisora.tk/static/"+e.currentUser+"/face/test/result/"+b+".jpg",target:"_blank"},r.a.createElement("img",{src:"https://akisora.tk/static/"+e.currentUser+"/face/test/result/"+b+".jpg",width:640}))))};var H=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),m=Object(o.a)(l,2),p=m[0],d=m[1];return!1===a&&localStorage.getItem("username")&&(c(!0),d(localStorage.getItem("username"))),r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement(U,{currentUser:p,userSignedIn:a,setUserSignedIn:c,setCurrentUser:d}),r.a.createElement(s.Switch,null,r.a.createElement(s.Route,{path:"/",exact:!0,render:function(e){return r.a.createElement(f,Object.assign({},e,{currentUser:p,userSignedIn:a}))}}),r.a.createElement(s.Route,{path:"/about",component:O}),r.a.createElement(s.Route,{path:"/face",render:function(e){return r.a.createElement(q,Object.assign({},e,{currentUser:p,userSignedIn:a}))}}),r.a.createElement(s.Route,{path:"/train",render:function(e){return r.a.createElement(G,Object.assign({},e,{currentUser:p,userSignedIn:a}))}}),r.a.createElement(s.Route,{path:"/login",render:function(e){return r.a.createElement(z,Object.assign({},e,{setCurrentUser:d,setUserSignedIn:c,userSignedIn:a}))}})))))};a(533),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[251,1,2]]]);
//# sourceMappingURL=main.9008f1ed.chunk.js.map