(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{258:function(e,t,a){e.exports=a(551)},263:function(e,t,a){},264:function(e,t,a){},291:function(e,t){},548:function(e,t,a){},549:function(e,t,a){},551:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=(a(263),a(13)),s=a(39),i=a(48),u=(a(264),a(241)),m=a.n(u);var p=function(){var e=r.a.useRef(null),t=m()("https://localhost:8080");return t.on("test",function(e){console.log(e)}),Object(n.useEffect)(function(){return e.current.getContext("2d").fillRect(15,15,150,100),function(){t.emit("end")}}),r.a.createElement("div",null,r.a.createElement("canvas",{ref:e,width:300,height:300}))};var d=function(){return r.a.createElement("h1",null,"ITS JUST A PRANK BRO")},f=a(556),g=a(106),b=a.n(g);var h=function(e){return r.a.createElement("div",{className:"navigation"},r.a.createElement(f.b,{mode:"horizontal",style:{padding:"7px",width:"100%",textAlign:"right",fontSize:"15px"},theme:"dark"},r.a.createElement(b.a,{title:"AI"},r.a.createElement(f.b.Item,{key:"face",style:{fontSize:"15px"}},r.a.createElement(s.b,{to:"/face"},"Face Recognition"))),r.a.createElement(f.b.Item,{key:"main"},r.a.createElement(s.b,{to:"/"},"App")),r.a.createElement(f.b.Item,{key:"about"},r.a.createElement(s.b,{to:"/About"},"About")),e.userSignedIn?r.a.createElement(b.a,{title:r.a.createElement("span",null,e.currentUser)},r.a.createElement(f.b.Item,{key:"login",style:{fontSize:"15px"},onClick:function(){e.setCurrentUser(null),e.setUserSignedIn(!1),localStorage.removeItem("username"),localStorage.removeItem("password")}},r.a.createElement(s.b,{to:"/login"},"Logout"))):r.a.createElement(f.b.Item,{key:"login",style:{fontSize:"15px"}},r.a.createElement(s.b,{to:"/Login"},"Login"))))},E=a(555),y=a(71),j=a(36),v=a(113),O=a(554),S=a(557),k=a(43),w=a.n(k);a(382);var U=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),u=Object(o.a)(s,2),m=u[0],p=u[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),g=f[0],b=f[1],h=Object(n.useState)(""),k=Object(o.a)(h,2),U=k[0],I=k[1],x=Object(n.useState)(""),C=Object(o.a)(x,2),R=C[0],T=C[1],L=Object(n.useState)(""),z=Object(o.a)(L,2),A=z[0],P=z[1],B=Object(n.useState)(""),F=Object(o.a)(B,2),N=F[0],D=F[1];return!0===e.userSignedIn?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",{style:{backgroundColor:"#f0f2f5",height:"100%",paddingTop:130}},r.a.createElement("div",null,r.a.createElement(E.a,{style:{width:500,marginLeft:"auto",marginRight:"auto",marginBottom:130,borderRadius:10,textAlign:"center"}},r.a.createElement(y.a,null,r.a.createElement("h1",{style:{margin:"15px 0"}},"ILKR")),r.a.createElement(y.a,null,r.a.createElement(j.a,{span:8,offset:4},r.a.createElement(v.a,{onClick:function(){l(!0),W()},type:c?"primary":"default",style:{width:"100%",borderBottomRightRadius:0,borderTopRightRadius:0}},"Log In")),r.a.createElement(j.a,{span:8},r.a.createElement(v.a,{onClick:function(){l(!1),W()},type:c?"default":"primary",style:{width:"100%",borderTopLeftRadius:0,borderBottomLeftRadius:0}},"Sign Up")),r.a.createElement(y.a,{style:{margin:"25px 0"}})),r.a.createElement(O.a,{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}},r.a.createElement(O.a.Item,{label:"Username",hasFeedback:!0,validateStatus:U,help:R},r.a.createElement(S.a,{name:"username",autoComplete:"off",style:{width:"100%"},size:"large",onChange:function(e){return function(e){p(e.target.value),c||(e.target.value.length<8?(I("error"),T("Username must be at least 8 characters")):(I(""),T("")))}(e)},onPressEnter:function(){return J()},placeholder:"Username"})),r.a.createElement(O.a.Item,{label:"Password",hasFeedback:!0,validateStatus:A,help:N},r.a.createElement(S.a,{name:"password",style:{width:"100%"},type:"password",size:"large",onChange:function(e){return function(e){b(e.target.value),e.target.value.length<8&&!c?(P("error"),D("Password must be at least 8 characters")):(P(""),D(""))}(e)},onPressEnter:function(){return J()},placeholder:"Password"})),r.a.createElement(y.a,{style:{margin:"25px 0"}}),r.a.createElement(v.a,{onClick:function(){return J()},size:"large",type:"primary"},"Enter")))));function W(){I(""),P(""),T(""),D("")}function J(){var t="login";c||(t="register"),w.a.post("https://128.199.208.103/".concat(t),{name:m,password:g}).then(function(t){console.log(t.data),"success"===t.data&&(e.setUserSignedIn(!0),e.setCurrentUser(m),localStorage.setItem("username",m),localStorage.setItem("password",g)),"failure"===t.data&&(I("error"),T("Username is taken")),"wrongPass"===t.data&&(P("error"),D("Invalid password"),I(""),T("")),"wrongUser"===t.data&&(I("error"),T("Username does not exist"),P(""),D(""))}).catch(function(e){return console.log(e)})}},I=a(256),x=a(558),C=(a(548),a(549),a(559)),R=a(553);var T=function(e){var t=e.images,a=Object.keys(t).map(function(a){return r.a.createElement(C.a,{style:{width:"18rem"},key:a},r.a.createElement(C.a.Header,null,r.a.createElement("h5",null,a)),r.a.createElement("div",{className:"topContainer"},t[a].map(function(t){return r.a.createElement("div",{key:t},r.a.createElement(C.a.Img,{variant:"top",src:"https://akisora.tk/static/"+e.currentUser+"/face/images/"+a+"/"+t}))})))});return r.a.createElement("div",{style:{float:"left"}},r.a.createElement(R.a,null,a))},L={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},z={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},A={display:"flex",minWidth:0,overflow:"hidden"},P={display:"block",width:"auto",height:"100%"};var B=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)({}),u=Object(o.a)(s,2),m=u[0],p=u[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),g=f[0],b=f[1],h=Object(n.useState)(""),E=Object(o.a)(h,2),j=E[0],k=E[1],U=Object(n.useState)(""),C=Object(o.a)(U,2),R=C[0],B=C[1],F=Object(n.useState)(!0),N=Object(o.a)(F,2),D=N[0],W=N[1],J=Object(n.useState)(!0),K=Object(o.a)(J,2),q=K[0],G=K[1],H=Object(n.useState)(!1),$=Object(o.a)(H,2),_=$[0],M=$[1],Q=Object(n.useState)(!1),V=Object(o.a)(Q,2),X=V[0],Y=V[1],Z=Object(n.useState)(!1),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(I.a)({accept:"image/*",onDrop:function(e){l(e.map(function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})),console.log(c)}}),re=ne.getRootProps,ce=ne.getInputProps,le=c.map(function(e){return r.a.createElement("div",{style:z,key:e.name},r.a.createElement("div",{style:A},r.a.createElement("img",{src:e.preview,style:P})))});function oe(){if(!0===e.userSignedIn){var t=e.currentUser.replace(/\s+/g,"%20");w.a.post("https://akisora.tk:4000/faceGetImages/"+t).then(function(e){p(e.data),Object.keys(e.data).length>1&&W(!1),G(!1)})}}return Object(n.useEffect)(function(){!0===e.userSignedIn&&oe()},[]),Object(n.useEffect)(function(){return function(){c.forEach(function(e){return URL.revokeObjectURL(e.preview)})}},[c]),!1===e.userSignedIn?r.a.createElement(i.a,{to:"/login"}):!0===X?r.a.createElement(i.a,{to:"/train"}):r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement(y.a,null,r.a.createElement(O.a,null,r.a.createElement(O.a.Item,{hasFeedback:!0,validateStatus:j,help:R},r.a.createElement(S.a,{name:"name",autoComplete:"off",style:{width:"100%"},size:"large",onChange:function(e){b(e.target.value),B(""),k("")},placeholder:"Enter the name of the person"}))),r.a.createElement("div",re({className:"dropzone"}),r.a.createElement("input",ce()),r.a.createElement("h3",null,"Upload files of the person")),r.a.createElement("aside",{style:L},le),r.a.createElement(v.a,{type:"primary",htmlType:"submit",onClick:function(){if(""==g)return B("Name required"),void k("error");if(c.length>0){var t=new FormData;for(var a in t.append("user",e.currentUser),t.append("name",g),c)t.append("file",c[a]);w.a.post("https://akisora.tk:4000/faceUpload",t).then(function(e){l([]),x.a.success("Sucessful upload"),oe()}).catch(function(e){console.log(e),x.a.error("Upload failed")})}},disabled:_},"Upload")),r.a.createElement(v.a,{type:"primary",loading:te,htmlType:"submit",onClick:function(){var t=e.currentUser.replace(/\s+/g,"%20");G(!0),ae(!0),M(!0),w.a.post("https://akisora.tk/faceTrain/"+t).then(function(e){Y(!0)}).catch(function(){ae(!1),G(!1),M(!1),x.a.error("Unable to train")})},style:{marginRight:"30px",marginTop:"30px",marginBottom:"30px"},disabled:D},"Train"),r.a.createElement(v.a,{type:"primary",htmlType:"submit",onClick:function(){var t=e.currentUser.replace(/\s+/g,"%20");w.a.post("https://akisora.tk:4000/faceClearImages/"+t).then(function(e){x.a.success("Images cleared"),p({}),G(!0),W(!0)}).catch(function(){x.a.error("Unable to clear")})},disabled:q},"Clear"),r.a.createElement(y.a,null,r.a.createElement(T,{images:m,currentUser:e.currentUser})))};var F=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(!1),u=Object(o.a)(i,2),m=u[0],p=u[1],d=Object(n.useState)(""),f=Object(o.a)(d,2),g=f[0],b=f[1];return r.a.createElement("div",null,r.a.createElement("img",{src:"https://akisora.tk/static/"+e.currentUser+"/face/test/result.png"}),r.a.createElement("input",{ref:t,type:"file",id:"single",accept:"image/png, image/jpeg",onChange:function(t){return function(t){p(!0),s(!1);var a=new FormData;a.append("user",e.currentUser),a.append("file",t.target.files[0]),w.a.post("https://akisora.tk:4000/faceTest",a).then(function(e){b(e.data),s(!0),p(!1)}).catch(function(e){x.a.error("Upload failed"),p(!1)})}(t)},style:{display:"none"}}),r.a.createElement("br",null),r.a.createElement(v.a,{loading:m,type:"primary",htmlType:"submit",onClick:function(){t.current.click()}},"Upload"),r.a.createElement("br",null),l&&r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement("a",{href:"https://akisora.tk/static/"+e.currentUser+"/face/test/result/"+g+".jpg",target:"_blank"},r.a.createElement("img",{src:"https://akisora.tk/static/"+e.currentUser+"/face/test/result/"+g+".jpg",width:640}))))};var N=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),u=Object(o.a)(l,2),m=u[0],f=u[1];return!1===a&&localStorage.getItem("username")&&(c(!0),f(localStorage.getItem("username"))),r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(h,{currentUser:m,userSignedIn:a,setUserSignedIn:c,setCurrentUser:f}),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,component:p}),r.a.createElement(i.b,{path:"/about",component:d}),r.a.createElement(i.b,{path:"/face",render:function(e){return r.a.createElement(B,Object.assign({},e,{currentUser:m,userSignedIn:a}))}}),r.a.createElement(i.b,{path:"/train",render:function(e){return r.a.createElement(F,Object.assign({},e,{currentUser:m,userSignedIn:a}))}}),r.a.createElement(i.b,{path:"/login",render:function(e){return r.a.createElement(U,Object.assign({},e,{setCurrentUser:f,setUserSignedIn:c,userSignedIn:a}))}}))))};a(550),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[258,1,2]]]);
//# sourceMappingURL=main.035ead6b.chunk.js.map