(this.webpackJsonpilkr=this.webpackJsonpilkr||[]).push([[0],{266:function(e,t,a){e.exports=a.p+"static/media/stay.d81aeb0d.mp3"},274:function(e,t,a){e.exports=a(581)},279:function(e,t,a){},282:function(e,t,a){},330:function(e,t){},333:function(e,t,a){},577:function(e,t,a){},578:function(e,t,a){},581:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=(a(279),a(11)),i=a(33),s=a(45),u=a(267),m=(a(282),a(40)),d=a.n(m),p=a(239),g=a.n(p),f=a(240),h=a.n(f);var b=function(e){var t=g()(),a=(t.history,t.location,t.match,Object(n.useRef)(null)),c=h()("localhost:4000");return Object(n.useEffect)((function(){c.on("test",(function(){console.log("tok")}))})),0==e.userSignedIn?r.a.createElement(s.Redirect,{to:"/login"}):r.a.createElement("div",null,r.a.createElement("canvas",{ref:a,width:640,height:425}))},E=(a(333),a(241)),y=a.n(E);a(336);var j=function(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2);return a[0],a[1],Object(n.useEffect)((function(){return document.body.style.overflow="hidden",e.setHideAudio(!1),function(){document.body.style.overflow="scroll",e.setHideAudio(!0)}})),r.a.createElement("div",{className:"div"},e.isPlaying&&r.a.createElement("h1",null,"Now Playing - Stay With Me - Miki Matsubara"),e.isPlaying&&r.a.createElement(y.a,null)," */}")},v=a(586),O=a(161),S=a.n(O);var k=function(e){return r.a.createElement("div",{className:"navigation"},r.a.createElement(v.a,{mode:"horizontal",style:{padding:"7px",width:"100%",textAlign:"right",fontSize:"15px"},theme:"dark"},r.a.createElement(S.a,{title:"AI"},r.a.createElement(v.a.Item,{key:"face",style:{fontSize:"15px"}},r.a.createElement(i.b,{to:"/face"},"Face Recognition"))),r.a.createElement(v.a.Item,{key:"main"},r.a.createElement(i.b,{to:"/"},"App")),r.a.createElement(v.a.Item,{key:"about"},r.a.createElement(i.b,{to:"/About"},"Music")),e.userSignedIn?r.a.createElement(S.a,{title:r.a.createElement("span",null,e.currentUser)},r.a.createElement(v.a.Item,{key:"login",style:{fontSize:"15px"},onClick:function(){e.setCurrentUser(null),e.setUserSignedIn(!1),localStorage.removeItem("username"),localStorage.removeItem("password")}},r.a.createElement(i.b,{to:"/login"},"Logout"))):r.a.createElement(v.a.Item,{key:"login",style:{fontSize:"15px"}},r.a.createElement(i.b,{to:"/Login"},"Login"))))},w=a(585),I=a(72),U=a(37),x=a(163),R=a(587),C=a(588),P=a(13);a(388);var L=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),u=Object(o.a)(i,2),m=u[0],p=u[1],g=Object(n.useState)(""),f=Object(o.a)(g,2),h=f[0],b=f[1],E=Object(n.useState)(""),y=Object(o.a)(E,2),j=y[0],v=y[1],O=Object(n.useState)(""),S=Object(o.a)(O,2),k=S[0],L=S[1],T=Object(n.useState)(""),z=Object(o.a)(T,2),A=z[0],N=z[1],B=Object(n.useState)(""),F=Object(o.a)(B,2),W=F[0],D=F[1];return!0===e.userSignedIn?r.a.createElement(s.Redirect,{to:"/"}):r.a.createElement("div",{style:{backgroundColor:"#f0f2f5",height:"100%",paddingTop:130}},r.a.createElement("div",null,r.a.createElement(w.a,{style:{width:500,marginLeft:"auto",marginRight:"auto",marginBottom:130,borderRadius:10,textAlign:"center"}},r.a.createElement(I.a,null,r.a.createElement("h1",{style:{margin:"15px 0"}},"ILKR")),r.a.createElement(I.a,null,r.a.createElement(U.a,{span:8,offset:4},r.a.createElement(x.a,{onClick:function(){l(!0),H()},type:c?"primary":"default",style:{width:"100%",borderBottomRightRadius:0,borderTopRightRadius:0}},"Log In")),r.a.createElement(U.a,{span:8},r.a.createElement(x.a,{onClick:function(){l(!1),H()},type:c?"default":"primary",style:{width:"100%",borderTopLeftRadius:0,borderBottomLeftRadius:0}},"Sign Up")),r.a.createElement(I.a,{style:{margin:"25px 0"}})),r.a.createElement(R.a,{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}},r.a.createElement(R.a.Item,{style:{marginLeft:"25%"},hasFeedback:!0,validateStatus:j,help:k},r.a.createElement(C.a,{name:"username",prefix:r.a.createElement(P.a,{type:"user"}),autoComplete:"off",style:{width:"132.5%"},size:"large",onChange:function(e){return function(e){p(e.target.value),c||(e.target.value.length<8?(v("error"),L("Username must be at least 8 characters")):(v(""),L("")))}(e)},onPressEnter:function(){return M()},placeholder:"Username"})),r.a.createElement(R.a.Item,{style:{marginLeft:"25%"},hasFeedback:!0,validateStatus:A,help:W},r.a.createElement(C.a,{name:"password",prefix:r.a.createElement(P.a,{type:"lock"}),style:{width:"132.5%"},type:"password",size:"large",onChange:function(e){return function(e){b(e.target.value),e.target.value.length<8&&!c?(N("error"),D("Password must be at least 8 characters")):(N(""),D(""))}(e)},onPressEnter:function(){return M()},placeholder:"Password"})),r.a.createElement(I.a,{style:{margin:"25px 0"}}),r.a.createElement(x.a,{onClick:function(){return M()},size:"large",type:"primary"},"Enter"))),r.a.createElement(I.a,null)));function H(){v(""),N(""),L(""),D("")}function M(){var t="login";c||(t="register"),d.a.post("https://tylergoh.tk/".concat(t),{name:m,password:h}).then((function(t){console.log(t.data),"success"===t.data&&(e.setUserSignedIn(!0),e.setCurrentUser(m),localStorage.setItem("username",m),localStorage.setItem("password",h)),"failure"===t.data&&(v("error"),L("Username is taken")),"wrongPass"===t.data&&(N("error"),D("Invalid password"),v(""),L("")),"wrongUser"===t.data&&(v("error"),L("Username does not exist"),N(""),D(""))})).catch((function(e){return console.log(e)}))}},T=a(269),z=a(589),A=(a(577),a(578),a(590)),N=a(584);var B=function(e){var t=e.images,a=Object.keys(t).map((function(a){return r.a.createElement(A.a,{style:{width:"18rem"},key:a},r.a.createElement(A.a.Header,null,r.a.createElement("h5",null,a)),r.a.createElement("div",{className:"topContainer"},t[a].map((function(t){return r.a.createElement("div",{key:t},r.a.createElement(A.a.Img,{variant:"top",src:"https://tylergoh.tk/static/"+e.currentUser+"/face/images/"+a+"/"+t}))}))))}));return r.a.createElement("div",{classname:"listImages",style:{float:"left"}},r.a.createElement(N.a,null,a))},F={display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:16},W={display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},D={display:"flex",minWidth:0,overflow:"hidden"},H={display:"block",width:"auto",height:"100%"};var M=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)({}),u=Object(o.a)(i,2),m=u[0],p=u[1],g=Object(n.useState)(""),f=Object(o.a)(g,2),h=f[0],b=f[1],E=Object(n.useState)(""),y=Object(o.a)(E,2),j=y[0],v=y[1],O=Object(n.useState)(""),S=Object(o.a)(O,2),k=S[0],w=S[1],U=Object(n.useState)(!0),P=Object(o.a)(U,2),L=P[0],A=P[1],N=Object(n.useState)(!0),M=Object(o.a)(N,2),J=M[0],q=M[1],G=Object(n.useState)(!1),K=Object(o.a)(G,2),$=K[0],_=K[1],Q=Object(n.useState)(!1),V=Object(o.a)(Q,2),X=V[0],Y=V[1],Z=Object(n.useState)(!1),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(T.a)({accept:"image/*",onDrop:function(e){l(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}))),console.log(c)}}),re=ne.getRootProps,ce=ne.getInputProps,le=c.map((function(e){return r.a.createElement("div",{style:W,key:e.name},r.a.createElement("div",{style:D},r.a.createElement("img",{src:e.preview,style:H})))}));function oe(){if(!0===e.userSignedIn){var t=e.currentUser.replace(/\s+/g,"%20");d.a.post("https://tylergoh.tk:4000/faceGetImages/"+t).then((function(e){p(e.data),Object.keys(e.data).length>1&&A(!1),q(!1)}))}}return Object(n.useEffect)((function(){!0===e.userSignedIn&&oe()}),[]),Object(n.useEffect)((function(){return function(){c.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[c]),!1===e.userSignedIn?r.a.createElement(s.Redirect,{to:"/login"}):!0===X?r.a.createElement(s.Redirect,{to:"/train"}):r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(R.a.Item,{hasFeedback:!0,validateStatus:j,help:k},r.a.createElement(C.a,{name:"name",autoComplete:"off",style:{width:"100%"},size:"large",onChange:function(e){b(e.target.value),w(""),v("")},placeholder:"Enter the name of the person"}))),r.a.createElement("div",re({className:"dropzone"}),r.a.createElement("input",ce()),r.a.createElement("h3",null,"Upload files of the person")),r.a.createElement("aside",{style:F},le),r.a.createElement(x.a,{type:"primary",htmlType:"submit",onClick:function(){if(""==h)return w("Name required"),void v("error");if(c.length>0){var t=new FormData;for(var a in t.append("user",e.currentUser),t.append("name",h),c)t.append("file",c[a]);d.a.post("https://tylergoh.tk:4000/faceUpload",t).then((function(e){l([]),z.a.success("Sucessful upload"),oe()})).catch((function(e){console.log(e),z.a.error("Upload failed")}))}},disabled:$},"Upload")),r.a.createElement(x.a,{type:"primary",loading:te,htmlType:"submit",onClick:function(){var t=e.currentUser.replace(/\s+/g,"%20");q(!0),ae(!0),_(!0),d.a.post("https://tylergoh.tk:4000/faceTrain/"+t).then((function(e){Y(!0)})).catch((function(){ae(!1),q(!1),_(!1),z.a.error("Unable to train")}))},style:{marginRight:"30px",marginTop:"30px",marginBottom:"30px"},disabled:L},"Train"),r.a.createElement(x.a,{type:"primary",htmlType:"submit",onClick:function(){var t=e.currentUser.replace(/\s+/g,"%20");d.a.post("https://tylergoh.tk:4000/faceClearImages/"+t).then((function(e){z.a.success("Images cleared"),p({}),q(!0),A(!0)})).catch((function(){z.a.error("Unable to clear")}))},disabled:J},"Clear"),r.a.createElement(I.a,null,r.a.createElement(B,{images:m,currentUser:e.currentUser})))};var J=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),m=u[0],p=u[1],g=Object(n.useState)(""),f=Object(o.a)(g,2),h=f[0],b=f[1];return r.a.createElement("div",null,r.a.createElement("img",{src:"https://tylergoh.tk/static/"+e.currentUser+"/face/test/result.png"}),r.a.createElement("input",{ref:t,type:"file",id:"single",accept:"image/png, image/jpeg",onChange:function(t){return function(t){p(!0),i(!1);var a=new FormData;a.append("user",e.currentUser),a.append("file",t.target.files[0]),d.a.post("https://tylergoh.tk:4000/faceTest",a).then((function(e){b(e.data),i(!0),p(!1)})).catch((function(e){z.a.error("Upload failed"),p(!1)}))}(t)},style:{display:"none"}}),r.a.createElement("br",null),r.a.createElement(x.a,{loading:m,type:"primary",htmlType:"submit",onClick:function(){t.current.click()}},"Upload"),r.a.createElement("br",null),l&&r.a.createElement("div",{style:{padding:"20px"}},r.a.createElement("a",{href:"https://tylergoh.tk/static/"+e.currentUser+"/face/test/result/"+h+".jpg",target:"_blank"},r.a.createElement("img",{src:"https://tylergoh.tk/static/"+e.currentUser+"/face/test/result/"+h+".jpg",width:640}))))},q=a(268),G=(a(579),a(266)),K=a.n(G);var $=function(e){return r.a.createElement(q.a,{style:{position:"absolute",width:"30%",bottom:"0px",left:"0px"},src:K.a,onPlay:function(t){return e.setIsPlaying(!0)},onPause:function(t){return e.setIsPlaying(!1)}})};var _=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),m=Object(o.a)(l,2),d=m[0],p=m[1],g=Object(n.useState)(!1),f=Object(o.a)(g,2),h=f[0],E=f[1],y=Object(n.useState)(!0),v=Object(o.a)(y,2),O=v[0],S=v[1];return!1===a&&localStorage.getItem("username")&&(c(!0),p(localStorage.getItem("username"))),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:O?"hidden":""},r.a.createElement($,{setIsPlaying:E})),r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement(k,{currentUser:d,userSignedIn:a,setUserSignedIn:c,setCurrentUser:p}),r.a.createElement(s.Switch,null,r.a.createElement(s.Route,{path:"/",exact:!0,render:function(e){return r.a.createElement(b,Object.assign({},e,{currentUser:d,userSignedIn:a}))}}),r.a.createElement(s.Route,{path:"/about",render:function(e){return r.a.createElement(j,Object.assign({},e,{isPlaying:h,setHideAudio:S}))}}),r.a.createElement(s.Route,{path:"/face",render:function(e){return r.a.createElement(M,Object.assign({},e,{currentUser:d,userSignedIn:a}))}}),r.a.createElement(s.Route,{path:"/train",render:function(e){return r.a.createElement(J,Object.assign({},e,{currentUser:d,userSignedIn:a}))}}),r.a.createElement(s.Route,{path:"/login",render:function(e){return r.a.createElement(L,Object.assign({},e,{setCurrentUser:p,setUserSignedIn:c,userSignedIn:a}))}})))))};a(580),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[274,1,2]]]);
//# sourceMappingURL=main.57e31a30.chunk.js.map